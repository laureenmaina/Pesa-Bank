{"ast":null,"code":"var _jsxFileName = \"/home/laurine/development/phase4/Pesa-Bank/Frontend/src/components/Loans.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Loans() {\n  _s();\n  const [loans, setLoans] = useState([]);\n  const [newLoan, setNewLoan] = useState({\n    borrowed_amount: '',\n    borrow_date: '',\n    interest_rate: '',\n    target_date: '',\n    trustee: '',\n    trustee_phone_number: '',\n    user_id: ''\n  });\n  const [error, setError] = useState(null);\n  const fetchLoans = async () => {\n    try {\n      const response = await fetch('http://localhost:4000/loans');\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const data = await response.json();\n      setLoans(data);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewLoan(prevLoan => ({\n      ...prevLoan,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://localhost:4000/loans', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newLoan)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to create loan');\n      }\n      setNewLoan({\n        borrowed_amount: '',\n        borrow_date: '',\n        interest_rate: '',\n        target_date: '',\n        trustee: '',\n        trustee_phone_number: '',\n        user_id: ''\n      });\n      fetchLoans();\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n  useEffect(() => {\n    fetchLoans();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My Loans\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchLoans,\n      children: \"Fetch Loans\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: loans.map(loan => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [loan.borrowed_amount, \" - \", loan.borrow_date, \" - \", loan.interest_rate, \"% - \", loan.target_date]\n      }, loan.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add a New Loan\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"borrowed_amount\",\n        value: newLoan.borrowed_amount,\n        onChange: handleChange,\n        placeholder: \"Borrowed Amount\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"borrow_date\",\n        value: newLoan.borrow_date,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        step: \"0.01\",\n        name: \"interest_rate\",\n        value: newLoan.interest_rate,\n        onChange: handleChange,\n        placeholder: \"Interest Rate\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"target_date\",\n        value: newLoan.target_date,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"trustee\",\n        value: newLoan.trustee,\n        onChange: handleChange,\n        placeholder: \"Trustee\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"trustee_phone_number\",\n        value: newLoan.trustee_phone_number,\n        onChange: handleChange,\n        placeholder: \"Trustee Phone Number\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"user_id\",\n        value: newLoan.user_id,\n        onChange: handleChange,\n        placeholder: \"User ID\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Loan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(Loans, \"rxNhVBfWc3OuG+V1C4UnlBYh51Y=\");\n_c = Loans;\nexport default Loans;\nvar _c;\n$RefreshReg$(_c, \"Loans\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Loans","_s","loans","setLoans","newLoan","setNewLoan","borrowed_amount","borrow_date","interest_rate","target_date","trustee","trustee_phone_number","user_id","error","setError","fetchLoans","response","fetch","ok","Error","data","json","message","handleChange","e","name","value","target","prevLoan","handleSubmit","preventDefault","method","headers","body","JSON","stringify","errorData","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","loan","id","onSubmit","type","onChange","placeholder","required","step","_c","$RefreshReg$"],"sources":["/home/laurine/development/phase4/Pesa-Bank/Frontend/src/components/Loans.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction Loans() {\n  const [loans, setLoans] = useState([]);\n  const [newLoan, setNewLoan] = useState({\n    borrowed_amount: '',\n    borrow_date: '',\n    interest_rate: '',\n    target_date: '',\n    trustee: '',\n    trustee_phone_number: '',\n    user_id: ''\n  });\n  const [error, setError] = useState(null);\n\n  const fetchLoans = async () => {\n    try {\n      const response = await fetch('http://localhost:4000/loans');\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const data = await response.json();\n      setLoans(data);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setNewLoan((prevLoan) => ({\n      ...prevLoan,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://localhost:4000/loans', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newLoan)\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to create loan');\n      }\n      setNewLoan({\n        borrowed_amount: '',\n        borrow_date: '',\n        interest_rate: '',\n        target_date: '',\n        trustee: '',\n        trustee_phone_number: '',\n        user_id: ''\n      });\n      fetchLoans(); \n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchLoans();\n  }, []);\n\n  return (\n    <div>\n      <h1>My Loans</h1>\n      <button onClick={fetchLoans}>Fetch Loans</button>\n      {error && <p>{error}</p>}\n      <ul>\n        {loans.map((loan) => (\n          <li key={loan.id}>\n            {loan.borrowed_amount} - {loan.borrow_date} - {loan.interest_rate}% - {loan.target_date}\n          </li>\n        ))}\n      </ul>\n      <h2>Add a New Loan</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"borrowed_amount\"\n          value={newLoan.borrowed_amount}\n          onChange={handleChange}\n          placeholder=\"Borrowed Amount\"\n          required\n        />\n        <input\n          type=\"date\"\n          name=\"borrow_date\"\n          value={newLoan.borrow_date}\n          onChange={handleChange}\n          required\n        />\n        <input\n          type=\"number\"\n          step=\"0.01\"\n          name=\"interest_rate\"\n          value={newLoan.interest_rate}\n          onChange={handleChange}\n          placeholder=\"Interest Rate\"\n          required\n        />\n        <input\n          type=\"date\"\n          name=\"target_date\"\n          value={newLoan.target_date}\n          onChange={handleChange}\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"trustee\"\n          value={newLoan.trustee}\n          onChange={handleChange}\n          placeholder=\"Trustee\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"trustee_phone_number\"\n          value={newLoan.trustee_phone_number}\n          onChange={handleChange}\n          placeholder=\"Trustee Phone Number\"\n          required\n        />\n        <input\n          type=\"number\"\n          name=\"user_id\"\n          value={newLoan.user_id}\n          onChange={handleChange}\n          placeholder=\"User ID\"\n          required\n        />\n        <button type=\"submit\">Add Loan</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Loans;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}